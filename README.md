# RL-RRT-ICU-AKI
the reinforcement learning in RRT operation optimation of ICU-AKI patients (in MIMIC and eICU)
# 1. Abstract

# 2. Pipeline
1. Patient Trajectories Select and Construction.
2. MDP Process Recognition,
3. RL model (DQN) Training
4. Validation and Utilities.

## 2.1 how to use
1. Do data preparation work.
2. Set the parameter in parameter.py
3. Run the start.py
# 3. Code Introduction

## 3.1 Data Preparation
### 3.1.1 SQL from database
v6_reward_function.sql
get the aki_patients and RRT treatment(action), eGFR(reward).

20240421-Factor4discontinuation.sql
get the chart record for patients states related to AKI treatment. (supported by Minqi Xiong)
### 3.1.2 Python process code
dataset_con.ipynb: 
original data generated by strategy step (specific time period) and Missing value completion
dataset_con.ipynb:
different trajectory data combine.
dataset_desc.ipynb:
data description and stat.

## 3.2 Data process
trainmodel.StateConstructor

utils.Dataloader

## 3.3 Model Training
trainmodel.StateConstructor

trainmodel.RL

exp.DQNexperiment
## 3.4 Validation and Utility
test.TestClass


# Reference
https://github.com/microsoft/med-deadend/tree/main

https://github.com/MIT-LCP/mimic-code/tree/v2.1.0/mimic-iv/concepts



